<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Design &#8212; softwarecontainer 0.18.0-3947f6d 2017-02-17 documentation</title>
    
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.18.0-3947f6d 2017-02-17',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Configuration" href="../configuration/index.html" />
    <link rel="prev" title="API" href="../api/index.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="design">
<span id="id1"></span><h1>Design<a class="headerlink" href="#design" title="Permalink to this headline">¶</a></h1>
<p>SoftwareContainer has been designed as a building block enabling sandboxing of
application contents in a larger system.</p>
<p>The SoftwareContainer achieves this by providing a structured way to limit
what inter-process communication (IPC) mechanims are made available to each
application. By targetting the IPC mechanisms rather than the applications or
services directly, the sandboxing mechanism can be deployed in a non-intrusive
way, i.e. completely transparent to both applications and services.</p>
<p>Each IPC is managed by a <em>gateway</em>. The IPC needs of each service is described
in <em>service manifest</em> files, defining <em>capabilities</em> and mapping these to
individual <em>gateway configurations</em>. This can be individual objects or
interfaces on D-Bus, networking filter rules, access to device nodes or
something completely different.</p>
<p>Each application is then associated with a set of <em>capabilities</em>. This could
be done through an <em>application manifest</em>, or any other method supported by
the <em>launcher</em>. These are used to configure the sandbox in which the
application is then launched.</p>
<p>In a typical deployment the SoftwareContainer is coupled with a <em>launcher</em>,
which is responsible for initiating containers and provide an entry point to
start execution from. This means that SoftwareContainer is not intended to be
used as a standalone tool, but rather as a toolbox to build the full
experience from.</p>
<p>The <em>launcher</em> is responsible for providing SoftwareContainer with a list of
<em>capabilities</em>, a mount point for the application payload and an entrypoint to
start execution from.The SoftwareContainer does not concern itself with
application packaging, deployment of manifest formats. All it does is
associate the given <em>capabilities</em> with <em>gateway configurations</em> to setup the
sandbox with the appropriate IPC access to the surrounding world.</p>
<div class="section" id="the-launcher">
<h2>The Launcher<a class="headerlink" href="#the-launcher" title="Permalink to this headline">¶</a></h2>
<p>The launcher is responsible for setting up sandboxes for contained
applications and then launch the application entry point.</p>
<p>The SoftwareContainer API allows the launcher great control over the creation
of the container. This makes it possible to implement preloading schemes,
doing much of the sandbox creation and configuration prior to actually loading
an application.</p>
<p>The setup of a container is done in four phases:</p>
<ol class="arabic simple">
<li><strong>Creation</strong>, where the container sandbox is instantiated. This sandbox has
no access to the host platform.</li>
<li><strong>Activation</strong>, where the sandbox is given a set of capabilities and the
gateways are configured accordingly.</li>
<li><strong>Mounting</strong>, where the application contents is mounted into the filesystem
of the sandbox.</li>
<li><strong>Launching</strong>, where the application entry point is executed.</li>
</ol>
<p>The main launcher for SoftwareContainer is a part of the
<a class="reference external" href="http://code.qt.io/cgit/qt/qtapplicationmanager.git/">QtApplicationManager</a>.</p>
</div>
<div class="section" id="service-manifests">
<h2>Service Manifests<a class="headerlink" href="#service-manifests" title="Permalink to this headline">¶</a></h2>
<p>Service manifests are JSON files mapping capabilities to gateway
configurations. Capabilities is what applications specify when they want
access to a specific feature of the platform. By specifying a list of
capabilities to SoftwareContainer, a sandbox with the correct gateway
configurations is created, providing access to the selected parts of the
platform services.</p>
<p>Capabilities are named according to a reverse DNS scheme, e.g.
<code class="docutils literal"><span class="pre">org.genivi.dlt</span></code> or <code class="docutils literal"><span class="pre">com.pelagicore.popups</span></code>. In some cases, the same
service provides capabilities of different levels, e.g. generic permission to
show popup compared to permission to show high priority popups. This is
generally added to the end of the name, e.g. <code class="docutils literal"><span class="pre">com.pelagicore.popups</span></code> and
<code class="docutils literal"><span class="pre">com.pelagicore.popups.important</span></code>.</p>
<p>The service manifests are typically placed in one JSON file per service, but
can be split into one file per capability if needed.</p>
<p>For more detailed information about service manifests content and format
see <a class="reference internal" href="../service-manifests/index.html#service-manifests"><span class="std std-ref">Service manifests</span></a></p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Design</a><ul>
<li><a class="reference internal" href="#the-launcher">The Launcher</a></li>
<li><a class="reference internal" href="#service-manifests">Service Manifests</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="../api/index.html" title="previous chapter">API</a></li>
      <li>Next: <a href="../configuration/index.html" title="next chapter">Configuration</a></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/chapters/design/index.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, Pelagicore AB.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.5.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.9</a>
      
      |
      <a href="../../_sources/chapters/design/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>