<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>softwarecontainer: softwarecontainer::Config Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">softwarecontainer
   &#160;<span id="projectnumber">0.15.0-b7078ee 2017-01-12</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classsoftwarecontainer_1_1_config.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a>  </div>
  <div class="headertitle">
<div class="title">softwarecontainer::Config Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Represents the <a class="el" href="classsoftwarecontainer_1_1_software_container.html">SoftwareContainer</a> main config.  
 <a href="classsoftwarecontainer_1_1_config.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="config_8h_source.html">config.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3295373fde01f6b10fe39bc4232100dc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsoftwarecontainer_1_1_config.html#a3295373fde01f6b10fe39bc4232100dc">Config</a> (std::unique_ptr&lt; <a class="el" href="classsoftwarecontainer_1_1_config_loader_abstract_interface.html">ConfigLoaderAbstractInterface</a> &gt; loader, std::unique_ptr&lt; <a class="el" href="classsoftwarecontainer_1_1_config_defaults.html">ConfigDefaults</a> &gt; defaults, const std::map&lt; std::string, std::string &gt; &amp;stringOptions=std::map&lt; std::string, std::string &gt;(), const std::map&lt; std::string, int &gt; &amp;intOptions=std::map&lt; std::string, int &gt;(), const std::map&lt; std::string, bool &gt; &amp;boolOptions=std::map&lt; std::string, bool &gt;())</td></tr>
<tr class="memdesc:a3295373fde01f6b10fe39bc4232100dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#a3295373fde01f6b10fe39bc4232100dc">More...</a><br /></td></tr>
<tr class="separator:a3295373fde01f6b10fe39bc4232100dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab29be3ef62031785b579172cd4c16f23"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsoftwarecontainer_1_1_config.html#ab29be3ef62031785b579172cd4c16f23">Config</a> (std::unique_ptr&lt; <a class="el" href="classsoftwarecontainer_1_1_config_loader_abstract_interface.html">ConfigLoaderAbstractInterface</a> &gt; loader, std::unique_ptr&lt; <a class="el" href="classsoftwarecontainer_1_1_config_defaults.html">ConfigDefaults</a> &gt; defaults, <a class="el" href="classsoftwarecontainer_1_1_mandatory_configs.html">MandatoryConfigs</a> &amp;mandatory, std::vector&lt; std::pair&lt; std::string, std::vector&lt; std::string &gt;&gt;&gt; &amp;dependencies, const std::map&lt; std::string, std::string &gt; &amp;stringOptions=std::map&lt; std::string, std::string &gt;(), const std::map&lt; std::string, int &gt; &amp;intOptions=std::map&lt; std::string, int &gt;(), const std::map&lt; std::string, bool &gt; &amp;boolOptions=std::map&lt; std::string, bool &gt;())</td></tr>
<tr class="memdesc:ab29be3ef62031785b579172cd4c16f23"><td class="mdescLeft">&#160;</td><td class="mdescRight">TODO: Find a way to reuse parts of above comment.  <a href="#ab29be3ef62031785b579172cd4c16f23">More...</a><br /></td></tr>
<tr class="separator:ab29be3ef62031785b579172cd4c16f23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7f2e47598dbdc585d4e15257477493c"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsoftwarecontainer_1_1_config.html#aa7f2e47598dbdc585d4e15257477493c">getStringValue</a> (const std::string &amp;group, const std::string &amp;key) const </td></tr>
<tr class="memdesc:aa7f2e47598dbdc585d4e15257477493c"><td class="mdescLeft">&#160;</td><td class="mdescRight">getStringValue Get a config value of type string  <a href="#aa7f2e47598dbdc585d4e15257477493c">More...</a><br /></td></tr>
<tr class="separator:aa7f2e47598dbdc585d4e15257477493c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb17ce7ca54895f2abcce97dc9a73354"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsoftwarecontainer_1_1_config.html#adb17ce7ca54895f2abcce97dc9a73354">getIntegerValue</a> (const std::string &amp;group, const std::string &amp;key) const </td></tr>
<tr class="memdesc:adb17ce7ca54895f2abcce97dc9a73354"><td class="mdescLeft">&#160;</td><td class="mdescRight">getIntegerValue Get a config value of type integer  <a href="#adb17ce7ca54895f2abcce97dc9a73354">More...</a><br /></td></tr>
<tr class="separator:adb17ce7ca54895f2abcce97dc9a73354"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2aafca72117fbf3b673c811f2ff7b78"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsoftwarecontainer_1_1_config.html#ab2aafca72117fbf3b673c811f2ff7b78">getBooleanValue</a> (const std::string &amp;group, const std::string &amp;key) const </td></tr>
<tr class="memdesc:ab2aafca72117fbf3b673c811f2ff7b78"><td class="mdescLeft">&#160;</td><td class="mdescRight">getBooleanValue Get a config value of type boolean  <a href="#ab2aafca72117fbf3b673c811f2ff7b78">More...</a><br /></td></tr>
<tr class="separator:ab2aafca72117fbf3b673c811f2ff7b78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8857c43a07dcaa610f70f6f2f218758"><td class="memTemplParams" colspan="2"><a class="anchor" id="ab8857c43a07dcaa610f70f6f2f218758"></a>
template&lt;&gt; </td></tr>
<tr class="memitem:ab8857c43a07dcaa610f70f6f2f218758"><td class="memTemplItemLeft" align="right" valign="top">std::string&#160;</td><td class="memTemplItemRight" valign="bottom"><b>getGlibValue</b> (const std::string &amp;group, const std::string &amp;key) const </td></tr>
<tr class="separator:ab8857c43a07dcaa610f70f6f2f218758"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80866d60e0e0f3f2def4d58decdcde8c"><td class="memTemplParams" colspan="2"><a class="anchor" id="a80866d60e0e0f3f2def4d58decdcde8c"></a>
template&lt;&gt; </td></tr>
<tr class="memitem:a80866d60e0e0f3f2def4d58decdcde8c"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><b>getGlibValue</b> (const std::string &amp;group, const std::string &amp;key) const </td></tr>
<tr class="separator:a80866d60e0e0f3f2def4d58decdcde8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38cf5c8d69ec485450cb4c2ed69af833"><td class="memTemplParams" colspan="2"><a class="anchor" id="a38cf5c8d69ec485450cb4c2ed69af833"></a>
template&lt;&gt; </td></tr>
<tr class="memitem:a38cf5c8d69ec485450cb4c2ed69af833"><td class="memTemplItemLeft" align="right" valign="top">int&#160;</td><td class="memTemplItemRight" valign="bottom"><b>getGlibValue</b> (const std::string &amp;group, const std::string &amp;key) const </td></tr>
<tr class="separator:a38cf5c8d69ec485450cb4c2ed69af833"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a9f6700a1ee011b664d21100dc74da7f4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9f6700a1ee011b664d21100dc74da7f4"></a>
static const std::string&#160;</td><td class="memItemRight" valign="bottom"><b>SC_CONFIG_PATH_INITIAL_VALUE</b></td></tr>
<tr class="separator:a9f6700a1ee011b664d21100dc74da7f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cd65a34502d2eb172d506b7a3b64fe6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6cd65a34502d2eb172d506b7a3b64fe6"></a>
static const int&#160;</td><td class="memItemRight" valign="bottom"><b>PRELOAD_COUNT_INITIAL_VALUE</b></td></tr>
<tr class="separator:a6cd65a34502d2eb172d506b7a3b64fe6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcfe079aaff977a5f256bfaeb1050ff4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afcfe079aaff977a5f256bfaeb1050ff4"></a>
static const bool&#160;</td><td class="memItemRight" valign="bottom"><b>KEEP_CONTAINERS_ALIVE_INITIAL_VALUE</b></td></tr>
<tr class="separator:afcfe079aaff977a5f256bfaeb1050ff4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1983bf96ab600069d39e79af1077fbc7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1983bf96ab600069d39e79af1077fbc7"></a>
static const int&#160;</td><td class="memItemRight" valign="bottom"><b>SHUTDOWN_TIMEOUT_INITIAL_VALUE</b></td></tr>
<tr class="separator:a1983bf96ab600069d39e79af1077fbc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0fbf7c4bedfa7a1d3132c343dfea832"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad0fbf7c4bedfa7a1d3132c343dfea832"></a>
static const std::string&#160;</td><td class="memItemRight" valign="bottom"><b>SERVICE_MANIFEST_DIR_INITIAL_VALUE</b></td></tr>
<tr class="separator:ad0fbf7c4bedfa7a1d3132c343dfea832"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaae34d1e7cb48cbb276a3be5da70a42c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aaae34d1e7cb48cbb276a3be5da70a42c"></a>
static const std::string&#160;</td><td class="memItemRight" valign="bottom"><b>DEFAULT_SERVICE_MANIFEST_DIR_INITIAL_VALUE</b></td></tr>
<tr class="separator:aaae34d1e7cb48cbb276a3be5da70a42c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0c2dd5a9860f942100bb2507e549ca3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac0c2dd5a9860f942100bb2507e549ca3"></a>
static const bool&#160;</td><td class="memItemRight" valign="bottom"><b>USE_SESSION_BUS_INITIAL_VALUE</b></td></tr>
<tr class="separator:ac0c2dd5a9860f942100bb2507e549ca3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab042f17b4b9acdcc804eb9efe718b00b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab042f17b4b9acdcc804eb9efe718b00b"></a>
static const std::string&#160;</td><td class="memItemRight" valign="bottom"><b>SC_GROUP</b></td></tr>
<tr class="separator:ab042f17b4b9acdcc804eb9efe718b00b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8fa3b02ed76102c77e557db0d5fb22a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad8fa3b02ed76102c77e557db0d5fb22a"></a>
static const std::string&#160;</td><td class="memItemRight" valign="bottom"><b>PRELOAD_COUNT_KEY</b></td></tr>
<tr class="separator:ad8fa3b02ed76102c77e557db0d5fb22a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9b389d1bd131cac300e37dedc92d185"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae9b389d1bd131cac300e37dedc92d185"></a>
static const std::string&#160;</td><td class="memItemRight" valign="bottom"><b>KEEP_CONTAINERS_ALIVE_KEY</b></td></tr>
<tr class="separator:ae9b389d1bd131cac300e37dedc92d185"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5963b77ba4e52777f865ab89585de62d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5963b77ba4e52777f865ab89585de62d"></a>
static const std::string&#160;</td><td class="memItemRight" valign="bottom"><b>USE_SESSION_BUS_KEY</b></td></tr>
<tr class="separator:a5963b77ba4e52777f865ab89585de62d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a629a0eabd3021bc84ee50c3c63a32455"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a629a0eabd3021bc84ee50c3c63a32455"></a>
static const std::string&#160;</td><td class="memItemRight" valign="bottom"><b>SHUTDOWN_TIMEOUT_KEY</b></td></tr>
<tr class="separator:a629a0eabd3021bc84ee50c3c63a32455"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71070343c12ce44936e751d300e6f6fa"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a71070343c12ce44936e751d300e6f6fa"></a>
static const std::string&#160;</td><td class="memItemRight" valign="bottom"><b>SHARED_MOUNTS_DIR_KEY</b></td></tr>
<tr class="separator:a71070343c12ce44936e751d300e6f6fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e2b1ee5d75551e1cff03210aaa2d8a7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4e2b1ee5d75551e1cff03210aaa2d8a7"></a>
static const std::string&#160;</td><td class="memItemRight" valign="bottom"><b>LXC_CONFIG_PATH_KEY</b></td></tr>
<tr class="separator:a4e2b1ee5d75551e1cff03210aaa2d8a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88496f841d8056d050e23b2965c6e121"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a88496f841d8056d050e23b2965c6e121"></a>
static const std::string&#160;</td><td class="memItemRight" valign="bottom"><b>SERVICE_MANIFEST_DIR_KEY</b></td></tr>
<tr class="separator:a88496f841d8056d050e23b2965c6e121"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa111ce71f4e77000c63709aca42a6542"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa111ce71f4e77000c63709aca42a6542"></a>
static const std::string&#160;</td><td class="memItemRight" valign="bottom"><b>DEFAULT_SERVICE_MANIFEST_DIR_KEY</b></td></tr>
<tr class="separator:aa111ce71f4e77000c63709aca42a6542"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Represents the <a class="el" href="classsoftwarecontainer_1_1_software_container.html">SoftwareContainer</a> main config. </p>
<p>A 'config' is a key-value pair, a 'config source' is somewhere that these key-value pairs are defined.</p>
<p>There are three different config sources:</p><ul>
<li>Command line options</li>
<li>Main config file</li>
<li>Defaults</li>
</ul>
<p>Some configs are optional and some are mandatory. A config can become mandatory if some other specified config depends on it. E.g. if an optional config in the main config file is uncommented and thus used, it might mean that other configs are mandatory as a consequence. A mandatory config must always be present in the command line options or in the main config file.</p>
<p>In the main config file, there are also 'confgig groups' which some might be mandatory and others not. Groups does not exist in the other config sources.</p>
<p>NOTE: It is an error if a mandatory config is not found in any config source when <a class="el" href="classsoftwarecontainer_1_1_config.html" title="Represents the SoftwareContainer main config. ">Config</a> is initialized.</p>
<p>NOTE: It is en error if a dependency to a config is not found in any config source when <a class="el" href="classsoftwarecontainer_1_1_config.html" title="Represents the SoftwareContainer main config. ">Config</a> is initialized.</p>
<p>NOTE: It is an error if a mandatory config group is not found in the main config file when <a class="el" href="classsoftwarecontainer_1_1_config.html" title="Represents the SoftwareContainer main config. ">Config</a> is initialized.</p>
<p><a class="el" href="classsoftwarecontainer_1_1_config.html" title="Represents the SoftwareContainer main config. ">Config</a> sources have an order of priority: 1 - Command line options 2 - Main config file 3 - Defaults</p>
<p>The config sources as considered in the above order, i.e. first command line options etc. As soon as a config is found in a source, the value is returned and less prioritized sources are ignored.</p>
<p>NOTE: It is an error if a config is requested and not found in any source. </p>

<p>Definition at line <a class="el" href="config_8h_source.html#l00152">152</a> of file <a class="el" href="config_8h_source.html">config.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a3295373fde01f6b10fe39bc4232100dc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">softwarecontainer::Config::Config </td>
          <td>(</td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classsoftwarecontainer_1_1_config_loader_abstract_interface.html">ConfigLoaderAbstractInterface</a> &gt;&#160;</td>
          <td class="paramname"><em>loader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classsoftwarecontainer_1_1_config_defaults.html">ConfigDefaults</a> &gt;&#160;</td>
          <td class="paramname"><em>defaults</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::map&lt; std::string, std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>stringOptions</em> = <code>std::map&lt;std::string,&#160;std::string&gt;()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::map&lt; std::string, int &gt; &amp;&#160;</td>
          <td class="paramname"><em>intOptions</em> = <code>std::map&lt;std::string,&#160;int&gt;()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::map&lt; std::string, bool &gt; &amp;&#160;</td>
          <td class="paramname"><em>boolOptions</em> = <code>std::map&lt;std::string,&#160;bool&gt;()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>
<p>The optional params takes any potential explicitly set configs, e.g. read as command line options. These values will take precedence over any existing values with the same key in the static configuration.</p>
<p>If no configs are found among the explicit set configs or in the config file provided by the loader, the default values will be used as a last resort.</p>
<p>If no explicit configs are to be used, this Constructor can be called by passing only the 'loader' and 'defaults' arguments. Otherwise all parameters needs to be passed.</p>
<p>It is an error to not provide default configuration values. Not finding values in any of the other sources, i.e. explicit or config file, will not cause an error unless there are problems parsing.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">loader</td><td>An interface to a loader which provides the underlying config to this class </td></tr>
    <tr><td class="paramname">defaults</td><td>An interface to default configs </td></tr>
    <tr><td class="paramname">stringOptions</td><td>A string:string map with config keys and corresponding values </td></tr>
    <tr><td class="paramname">intOptions</td><td>A string:int map with config keys and corresponding values </td></tr>
    <tr><td class="paramname">boolOptions</td><td>A string:bool map with config keys and corresponding values</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classsoftwarecontainer_1_1_config_error.html">ConfigError</a></td><td>On error </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="config_8cpp_source.html#l00049">49</a> of file <a class="el" href="config_8cpp_source.html">config.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;                                                           :</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    m_loader(std::move(loader)),</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    m_defaults(std::move(defaults)),</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    m_stringOptions(stringOptions),</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    m_intOptions(intOptions),</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    m_boolOptions(boolOptions)</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;{</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    loadConfig();</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab29be3ef62031785b579172cd4c16f23"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">softwarecontainer::Config::Config </td>
          <td>(</td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classsoftwarecontainer_1_1_config_loader_abstract_interface.html">ConfigLoaderAbstractInterface</a> &gt;&#160;</td>
          <td class="paramname"><em>loader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classsoftwarecontainer_1_1_config_defaults.html">ConfigDefaults</a> &gt;&#160;</td>
          <td class="paramname"><em>defaults</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classsoftwarecontainer_1_1_mandatory_configs.html">MandatoryConfigs</a> &amp;&#160;</td>
          <td class="paramname"><em>mandatory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::pair&lt; std::string, std::vector&lt; std::string &gt;&gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>dependencies</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::map&lt; std::string, std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>stringOptions</em> = <code>std::map&lt;std::string,&#160;std::string&gt;()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::map&lt; std::string, int &gt; &amp;&#160;</td>
          <td class="paramname"><em>intOptions</em> = <code>std::map&lt;std::string,&#160;int&gt;()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::map&lt; std::string, bool &gt; &amp;&#160;</td>
          <td class="paramname"><em>boolOptions</em> = <code>std::map&lt;std::string,&#160;bool&gt;()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>TODO: Find a way to reuse parts of above comment. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mandatory</td><td>A reference to a <a class="el" href="classsoftwarecontainer_1_1_mandatory_configs.html">MandatoryConfigs</a> object that specifies what configs will be considered mandatory. </td></tr>
    <tr><td class="paramname">dependencies</td><td>A list of dependee keys mapping to lists of dependency keys </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="config_8cpp_source.html#l00063">63</a> of file <a class="el" href="config_8cpp_source.html">config.cpp</a>.</p>

<p>References <a class="el" href="mandatoryconfigs_8cpp_source.html#l00038">softwarecontainer::MandatoryConfigs::configs()</a>, <a class="el" href="config_8cpp_source.html#l00139">getBooleanValue()</a>, <a class="el" href="config_8cpp_source.html#l00134">getIntegerValue()</a>, <a class="el" href="config_8cpp_source.html#l00129">getStringValue()</a>, and <a class="el" href="mandatoryconfigs_8cpp_source.html#l00043">softwarecontainer::MandatoryConfigs::groups()</a>.</p>
<div class="fragment"><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;                                                           :</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    m_loader(std::move(loader)),</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    m_defaults(std::move(defaults)),</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    m_stringOptions(stringOptions),</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    m_intOptions(intOptions),</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    m_boolOptions(boolOptions)</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;{</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    loadConfig();</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="comment">/* Checking for mandatory config group is only relevant for the main config source</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keywordflow">for</span> (std::string group : mandatory.groups()) {</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        log_debug() &lt;&lt; <span class="stringliteral">&quot;Checking for mandatory config group: \&quot;&quot;</span> &lt;&lt; group &lt;&lt; <span class="stringliteral">&quot;\&quot;&quot;</span>;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        <span class="keywordflow">if</span> (!m_config-&gt;has_group(group)) {</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;            log_error() &lt;&lt; <span class="stringliteral">&quot;Missing mandatory config group: \&quot;&quot;</span> + group + <span class="stringliteral">&quot;\&quot;&quot;</span>;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;            <span class="keywordflow">throw</span> ConfigMandatoryError(<span class="stringliteral">&quot;Missing mandatory config group: \&quot;&quot;</span> + group + <span class="stringliteral">&quot;\&quot;&quot;</span>);</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        }</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    }</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="comment">/* Check that each mandatory config is present in one of the sources using the normal</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">     * retrieval methods in order to preserve the priority order.</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keywordflow">for</span> (std::tuple&lt;std::string, std::string, ConfigType&gt; config : mandatory.configs()) {</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        std::string group = std::get&lt;0&gt;(config);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        std::string key = std::get&lt;1&gt;(config);</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        ConfigType type = std::get&lt;2&gt;(config);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        log_debug() &lt;&lt; <span class="stringliteral">&quot;Checking for presence of mandatory config: \&quot;&quot;</span> &lt;&lt; key &lt;&lt; <span class="stringliteral">&quot;\&quot;&quot;</span>;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        <span class="comment">/* TODO: The below only checks for presence, it should also add the values to something</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment">         *       that can be used for retrieval later. */</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            <span class="keywordflow">switch</span> (type) {</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                <span class="keywordflow">case</span> ConfigType::String:</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                    <a class="code" href="classsoftwarecontainer_1_1_config.html#aa7f2e47598dbdc585d4e15257477493c">getStringValue</a>(group, key);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                <span class="keywordflow">case</span> ConfigType::Integer:</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                    <a class="code" href="classsoftwarecontainer_1_1_config.html#adb17ce7ca54895f2abcce97dc9a73354">getIntegerValue</a>(group, key);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                <span class="keywordflow">case</span> ConfigType::Boolean:</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                    <a class="code" href="classsoftwarecontainer_1_1_config.html#ab2aafca72117fbf3b673c811f2ff7b78">getBooleanValue</a>(group, key);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            }</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        } <span class="keywordflow">catch</span> (ConfigError &amp;error) {</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;            log_error() &lt;&lt; <span class="stringliteral">&quot;Missing mandatory config: \&quot;&quot;</span> &lt;&lt; key &lt;&lt; <span class="stringliteral">&quot;\&quot;&quot;</span>;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;            <span class="keywordflow">throw</span> ConfigMandatoryError(<span class="stringliteral">&quot;Missing mandatory config: \&quot;&quot;</span> + key + <span class="stringliteral">&quot;\&quot;&quot;</span>);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        }</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    }</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;}</div>
<div class="ttc" id="classsoftwarecontainer_1_1_config_html_adb17ce7ca54895f2abcce97dc9a73354"><div class="ttname"><a href="classsoftwarecontainer_1_1_config.html#adb17ce7ca54895f2abcce97dc9a73354">softwarecontainer::Config::getIntegerValue</a></div><div class="ttdeci">int getIntegerValue(const std::string &amp;group, const std::string &amp;key) const </div><div class="ttdoc">getIntegerValue Get a config value of type integer </div><div class="ttdef"><b>Definition:</b> <a href="config_8cpp_source.html#l00134">config.cpp:134</a></div></div>
<div class="ttc" id="classsoftwarecontainer_1_1_config_html_aa7f2e47598dbdc585d4e15257477493c"><div class="ttname"><a href="classsoftwarecontainer_1_1_config.html#aa7f2e47598dbdc585d4e15257477493c">softwarecontainer::Config::getStringValue</a></div><div class="ttdeci">std::string getStringValue(const std::string &amp;group, const std::string &amp;key) const </div><div class="ttdoc">getStringValue Get a config value of type string </div><div class="ttdef"><b>Definition:</b> <a href="config_8cpp_source.html#l00129">config.cpp:129</a></div></div>
<div class="ttc" id="classsoftwarecontainer_1_1_config_html_ab2aafca72117fbf3b673c811f2ff7b78"><div class="ttname"><a href="classsoftwarecontainer_1_1_config.html#ab2aafca72117fbf3b673c811f2ff7b78">softwarecontainer::Config::getBooleanValue</a></div><div class="ttdeci">bool getBooleanValue(const std::string &amp;group, const std::string &amp;key) const </div><div class="ttdoc">getBooleanValue Get a config value of type boolean </div><div class="ttdef"><b>Definition:</b> <a href="config_8cpp_source.html#l00139">config.cpp:139</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classsoftwarecontainer_1_1_config_ab29be3ef62031785b579172cd4c16f23_cgraph.svg" width="371" height="314"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aa7f2e47598dbdc585d4e15257477493c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string softwarecontainer::Config::getStringValue </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>getStringValue Get a config value of type string </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">group</td><td>The name of the config group the value belongs to </td></tr>
    <tr><td class="paramname">key</td><td>The key for the config value</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A string with the config value </dd></dl>

<p>Definition at line <a class="el" href="config_8cpp_source.html#l00129">129</a> of file <a class="el" href="config_8cpp_source.html">config.cpp</a>.</p>

<p>Referenced by <a class="el" href="config_8cpp_source.html#l00063">Config()</a>, and <a class="el" href="softwarecontaineragent_8cpp_source.html#l00025">softwarecontainer::SoftwareContainerAgent::SoftwareContainerAgent()</a>.</p>
<div class="fragment"><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;{</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keywordflow">return</span> getValue&lt;std::string&gt;(group, key, m_stringOptions);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classsoftwarecontainer_1_1_config_aa7f2e47598dbdc585d4e15257477493c_icgraph.svg" width="384" height="132"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="adb17ce7ca54895f2abcce97dc9a73354"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int softwarecontainer::Config::getIntegerValue </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>getIntegerValue Get a config value of type integer </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">group</td><td>The name of the config group the value belongs to </td></tr>
    <tr><td class="paramname">key</td><td>The key for the config value</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An int with the config value </dd></dl>

<p>Definition at line <a class="el" href="config_8cpp_source.html#l00134">134</a> of file <a class="el" href="config_8cpp_source.html">config.cpp</a>.</p>

<p>Referenced by <a class="el" href="config_8cpp_source.html#l00063">Config()</a>, and <a class="el" href="softwarecontaineragent_8cpp_source.html#l00025">softwarecontainer::SoftwareContainerAgent::SoftwareContainerAgent()</a>.</p>
<div class="fragment"><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;{</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordflow">return</span> getValue&lt;int&gt;(group, key, m_intOptions);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classsoftwarecontainer_1_1_config_adb17ce7ca54895f2abcce97dc9a73354_icgraph.svg" width="390" height="132"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab2aafca72117fbf3b673c811f2ff7b78"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool softwarecontainer::Config::getBooleanValue </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>getBooleanValue Get a config value of type boolean </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">group</td><td>The name of the config group the value belongs to </td></tr>
    <tr><td class="paramname">key</td><td>The key for the config value</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A bool with the config value </dd></dl>

<p>Definition at line <a class="el" href="config_8cpp_source.html#l00139">139</a> of file <a class="el" href="config_8cpp_source.html">config.cpp</a>.</p>

<p>Referenced by <a class="el" href="config_8cpp_source.html#l00063">Config()</a>, and <a class="el" href="softwarecontaineragent_8cpp_source.html#l00025">softwarecontainer::SoftwareContainerAgent::SoftwareContainerAgent()</a>.</p>
<div class="fragment"><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;{</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keywordflow">return</span> getValue&lt;bool&gt;(group, key, m_boolOptions);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classsoftwarecontainer_1_1_config_ab2aafca72117fbf3b673c811f2ff7b78_icgraph.svg" width="398" height="132"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>agent/src/config/<a class="el" href="config_8h_source.html">config.h</a></li>
<li>agent/src/config/<a class="el" href="config_8cpp_source.html">config.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>softwarecontainer</b></li><li class="navelem"><a class="el" href="classsoftwarecontainer_1_1_config.html">Config</a></li>
    <li class="footer">Generated on Thu Jan 12 2017 10:14:11 for softwarecontainer by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.8 </li>
  </ul>
</div>
</body>
</html>
