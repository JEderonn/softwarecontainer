<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>softwarecontainer: DBusGateway Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">softwarecontainer
   &#160;<span id="projectnumber">0.9.1-2ee6993 2016-11-03</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_d_bus_gateway.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-types">Protected Types</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">DBusGateway Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>DBus <a class="el" href="class_gateway.html" title="Gateway base class for SoftwareContainer. ">Gateway</a> takes care of spawning and killing the DBus proxies.  
 <a href="class_d_bus_gateway.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="dbusgateway_8h_source.html">dbusgateway.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for DBusGateway:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_d_bus_gateway__inherit__graph.svg" width="155" height="202"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for DBusGateway:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_d_bus_gateway__coll__graph.svg" width="155" height="202"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a14c073f0368f6033f49f2d24be403d03"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a14c073f0368f6033f49f2d24be403d03"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>ProxyType</b> { <b>SessionProxy</b>, 
<b>SystemProxy</b>
 }</td></tr>
<tr class="separator:a14c073f0368f6033f49f2d24be403d03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a913d59c3eb30f2c4685ff5a02b8246fa"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a913d59c3eb30f2c4685ff5a02b8246fa"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>GatewayState</b> : unsigned int { <b>CREATED</b>, 
<b>CONFIGURED</b>, 
<b>ACTIVATED</b>
 }</td></tr>
<tr class="separator:a913d59c3eb30f2c4685ff5a02b8246fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aee158c5953c85075587af556a2c42b8f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_bus_gateway.html#aee158c5953c85075587af556a2c42b8f">DBusGateway</a> (ProxyType type, const std::string &amp;gatewayDir, const std::string &amp;name)</td></tr>
<tr class="memdesc:aee158c5953c85075587af556a2c42b8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Spawn the proxy and use the supplied path for the socket.  <a href="#aee158c5953c85075587af556a2c42b8f">More...</a><br /></td></tr>
<tr class="separator:aee158c5953c85075587af556a2c42b8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26605d226d94efe726e85734dd01a713"><td class="memItemLeft" align="right" valign="top">virtual ReturnCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_bus_gateway.html#a26605d226d94efe726e85734dd01a713">readConfigElement</a> (const json_t *element) override</td></tr>
<tr class="memdesc:a26605d226d94efe726e85734dd01a713"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_gateway.html" title="Gateway base class for SoftwareContainer. ">Gateway</a> specific parsing of config elements.  <a href="#a26605d226d94efe726e85734dd01a713">More...</a><br /></td></tr>
<tr class="separator:a26605d226d94efe726e85734dd01a713"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab974b6b05b985d64ba5609c64e8b13fb"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_bus_gateway.html#ab974b6b05b985d64ba5609c64e8b13fb">activateGateway</a> ()</td></tr>
<tr class="memdesc:ab974b6b05b985d64ba5609c64e8b13fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements Gateway::activateGateway.  <a href="#ab974b6b05b985d64ba5609c64e8b13fb">More...</a><br /></td></tr>
<tr class="separator:ab974b6b05b985d64ba5609c64e8b13fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f9b7087aedef583e950d7853350731e"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_bus_gateway.html#a5f9b7087aedef583e950d7853350731e">teardownGateway</a> () override</td></tr>
<tr class="memdesc:a5f9b7087aedef583e950d7853350731e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements Gateway::teardownGateway.  <a href="#a5f9b7087aedef583e950d7853350731e">More...</a><br /></td></tr>
<tr class="separator:a5f9b7087aedef583e950d7853350731e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01028fc541340b53b0330c03dafb6bfe"><td class="memItemLeft" align="right" valign="top">virtual const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gateway.html#a01028fc541340b53b0330c03dafb6bfe">id</a> ()</td></tr>
<tr class="separator:a01028fc541340b53b0330c03dafb6bfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04d31b1ed232f5376c5cf79e30fa2593"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gateway.html#a04d31b1ed232f5376c5cf79e30fa2593">setConfig</a> (const std::string &amp;config)</td></tr>
<tr class="memdesc:a04d31b1ed232f5376c5cf79e30fa2593"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure this gateway according to the supplied JSON configuration string.  <a href="#a04d31b1ed232f5376c5cf79e30fa2593">More...</a><br /></td></tr>
<tr class="separator:a04d31b1ed232f5376c5cf79e30fa2593"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac80886a35b80d8003051e6926b59937"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gateway.html#aac80886a35b80d8003051e6926b59937">activate</a> ()</td></tr>
<tr class="memdesc:aac80886a35b80d8003051e6926b59937"><td class="mdescLeft">&#160;</td><td class="mdescRight">Applies any configuration set by <a class="el" href="class_gateway.html#a04d31b1ed232f5376c5cf79e30fa2593" title="Configure this gateway according to the supplied JSON configuration string. ">setConfig()</a>  <a href="#aac80886a35b80d8003051e6926b59937">More...</a><br /></td></tr>
<tr class="separator:aac80886a35b80d8003051e6926b59937"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12bc56e21985047b61012932394b4512"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gateway.html#a12bc56e21985047b61012932394b4512">teardown</a> ()</td></tr>
<tr class="memdesc:a12bc56e21985047b61012932394b4512"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restore system to the state prior to launching of gateway.  <a href="#a12bc56e21985047b61012932394b4512">More...</a><br /></td></tr>
<tr class="separator:a12bc56e21985047b61012932394b4512"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab55d52ccd92881532688847a6c2c1cba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gateway.html#ab55d52ccd92881532688847a6c2c1cba">setContainer</a> (std::shared_ptr&lt; <a class="el" href="class_container_abstract_interface.html">ContainerAbstractInterface</a> &gt; container)</td></tr>
<tr class="memdesc:ab55d52ccd92881532688847a6c2c1cba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the associated container for this gateway.  <a href="#ab55d52ccd92881532688847a6c2c1cba">More...</a><br /></td></tr>
<tr class="separator:ab55d52ccd92881532688847a6c2c1cba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88ae41c7b14da49561d025bd99047e81"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gateway.html#a88ae41c7b14da49561d025bd99047e81">isConfigured</a> ()</td></tr>
<tr class="memdesc:a88ae41c7b14da49561d025bd99047e81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is the gateway configured or not?  <a href="#a88ae41c7b14da49561d025bd99047e81">More...</a><br /></td></tr>
<tr class="separator:a88ae41c7b14da49561d025bd99047e81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78949f88080c66617f8b20048d706237"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gateway.html#a78949f88080c66617f8b20048d706237">isActivated</a> ()</td></tr>
<tr class="memdesc:a78949f88080c66617f8b20048d706237"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is the gateway activated or not?  <a href="#a78949f88080c66617f8b20048d706237">More...</a><br /></td></tr>
<tr class="separator:a78949f88080c66617f8b20048d706237"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a5cd98a45ed75dd4a2579c56e1d7eb38f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5cd98a45ed75dd4a2579c56e1d7eb38f"></a>
static constexpr const char *&#160;</td><td class="memItemRight" valign="bottom"><b>ID</b></td></tr>
<tr class="separator:a5cd98a45ed75dd4a2579c56e1d7eb38f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-types"></a>
Protected Types</h2></td></tr>
<tr class="memitem:a76344502967c375fae0c5bc7f44d7e74"><td class="memItemLeft" align="right" valign="top">typedef std::function&lt; int()&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gateway.html#a76344502967c375fae0c5bc7f44d7e74">ContainerFunction</a></td></tr>
<tr class="memdesc:a76344502967c375fae0c5bc7f44d7e74"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute a function in the container.  <a href="#a76344502967c375fae0c5bc7f44d7e74">More...</a><br /></td></tr>
<tr class="separator:a76344502967c375fae0c5bc7f44d7e74"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ad66eea64014d7eb2927c1f576b3cf2b2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gateway.html#ad66eea64014d7eb2927c1f576b3cf2b2">hasContainer</a> ()</td></tr>
<tr class="memdesc:ad66eea64014d7eb2927c1f576b3cf2b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the gateway has an associated container.  <a href="#ad66eea64014d7eb2927c1f576b3cf2b2">More...</a><br /></td></tr>
<tr class="separator:ad66eea64014d7eb2927c1f576b3cf2b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab03846b347174727f70ab4e4ce5db09f"><td class="memItemLeft" align="right" valign="top">std::shared_ptr<br class="typebreak" />
&lt; <a class="el" href="class_container_abstract_interface.html">ContainerAbstractInterface</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gateway.html#ab03846b347174727f70ab4e4ce5db09f">getContainer</a> ()</td></tr>
<tr class="memdesc:ab03846b347174727f70ab4e4ce5db09f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a handle to the associated container.  <a href="#ab03846b347174727f70ab4e4ce5db09f">More...</a><br /></td></tr>
<tr class="separator:ab03846b347174727f70ab4e4ce5db09f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a828b2dfa811c7fcce82d34b502e65112"><td class="memItemLeft" align="right" valign="top">ReturnCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gateway.html#a828b2dfa811c7fcce82d34b502e65112">setEnvironmentVariable</a> (const std::string &amp;variable, const std::string &amp;value)</td></tr>
<tr class="memdesc:a828b2dfa811c7fcce82d34b502e65112"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set an environment variable in the associated container.  <a href="#a828b2dfa811c7fcce82d34b502e65112">More...</a><br /></td></tr>
<tr class="separator:a828b2dfa811c7fcce82d34b502e65112"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77348e5ce86b82302764b10e3203b42c"><td class="memItemLeft" align="right" valign="top">ReturnCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_gateway.html#a77348e5ce86b82302764b10e3203b42c">executeInContainer</a> (const std::string &amp;cmd)</td></tr>
<tr class="memdesc:a77348e5ce86b82302764b10e3203b42c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute the given command in the container.  <a href="#a77348e5ce86b82302764b10e3203b42c">More...</a><br /></td></tr>
<tr class="separator:a77348e5ce86b82302764b10e3203b42c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1654f704315b3c4a6c982f09e4aa287a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1654f704315b3c4a6c982f09e4aa287a"></a>
ReturnCode&#160;</td><td class="memItemRight" valign="bottom"><b>executeInContainer</b> (<a class="el" href="class_gateway.html#a76344502967c375fae0c5bc7f44d7e74">ContainerFunction</a> func)</td></tr>
<tr class="separator:a1654f704315b3c4a6c982f09e4aa287a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ea50df505b43684c4a1d82ca6cb6e82"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsoftwarecontainer_1_1_j_s_o_n_parser.html#a7ea50df505b43684c4a1d82ca6cb6e82">read</a> (const json_t *element, const char *key, std::string &amp;result)</td></tr>
<tr class="memdesc:a7ea50df505b43684c4a1d82ca6cb6e82"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads a string from a JSON Object.  <a href="#a7ea50df505b43684c4a1d82ca6cb6e82">More...</a><br /></td></tr>
<tr class="separator:a7ea50df505b43684c4a1d82ca6cb6e82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec2365e81204446fec184fe17e573405"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsoftwarecontainer_1_1_j_s_o_n_parser.html#aec2365e81204446fec184fe17e573405">read</a> (const json_t *element, const char *key, bool &amp;result)</td></tr>
<tr class="memdesc:aec2365e81204446fec184fe17e573405"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads a boolean from a JSON Object.  <a href="#aec2365e81204446fec184fe17e573405">More...</a><br /></td></tr>
<tr class="separator:aec2365e81204446fec184fe17e573405"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11e43ade1f694d939bfd566b64ddd460"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsoftwarecontainer_1_1_j_s_o_n_parser.html#a11e43ade1f694d939bfd566b64ddd460">read</a> (const json_t *element, const char *key, int &amp;result)</td></tr>
<tr class="memdesc:a11e43ade1f694d939bfd566b64ddd460"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads an integer from a JSON Object.  <a href="#a11e43ade1f694d939bfd566b64ddd460">More...</a><br /></td></tr>
<tr class="separator:a11e43ade1f694d939bfd566b64ddd460"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:af0ce46d7b8bf606129980aa0fd5324f4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af0ce46d7b8bf606129980aa0fd5324f4"></a>
std::shared_ptr<br class="typebreak" />
&lt; <a class="el" href="class_container_abstract_interface.html">ContainerAbstractInterface</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>m_container</b></td></tr>
<tr class="separator:af0ce46d7b8bf606129980aa0fd5324f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c130210e82f993d64ee50764ddcc393"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9c130210e82f993d64ee50764ddcc393"></a>
const char *&#160;</td><td class="memItemRight" valign="bottom"><b>m_id</b></td></tr>
<tr class="separator:a9c130210e82f993d64ee50764ddcc393"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54d282882210c55d9f60ba1ad338a56d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a54d282882210c55d9f60ba1ad338a56d"></a>
GatewayState&#160;</td><td class="memItemRight" valign="bottom"><b>m_state</b></td></tr>
<tr class="separator:a54d282882210c55d9f60ba1ad338a56d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr class="memitem:af0a2a443c50865a1556f8ad971c4c9e1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af0a2a443c50865a1556f8ad971c4c9e1"></a>
static constexpr const char *&#160;</td><td class="memItemRight" valign="bottom"><b>ENABLED_FIELD</b></td></tr>
<tr class="separator:af0a2a443c50865a1556f8ad971c4c9e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4264741d566d2ee954cd7dccd5e58c1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad4264741d566d2ee954cd7dccd5e58c1"></a>
static constexpr const char *&#160;</td><td class="memItemRight" valign="bottom"><b>XDG_RUNTIME_DIR_VARIABLE_NAME</b></td></tr>
<tr class="separator:ad4264741d566d2ee954cd7dccd5e58c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>DBus <a class="el" href="class_gateway.html" title="Gateway base class for SoftwareContainer. ">Gateway</a> takes care of spawning and killing the DBus proxies. </p>
<p>This module requires the 'dbus-proxy' binary to be available in the $PATH of the user executing softwarecontainer. </p>

<p>Definition at line <a class="el" href="dbusgateway_8h_source.html#l00033">33</a> of file <a class="el" href="dbusgateway_8h_source.html">dbusgateway.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="a76344502967c375fae0c5bc7f44d7e74"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::function&lt;int ()&gt; <a class="el" href="class_gateway.html#a76344502967c375fae0c5bc7f44d7e74">Gateway::ContainerFunction</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Execute a function in the container. </p>

<p>Definition at line <a class="el" href="gateway_8h_source.html#l00151">151</a> of file <a class="el" href="gateway_8h_source.html">gateway.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aee158c5953c85075587af556a2c42b8f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DBusGateway::DBusGateway </td>
          <td>(</td>
          <td class="paramtype">ProxyType&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>gatewayDir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Spawn the proxy and use the supplied path for the socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>SessionProxy or SystemProxy </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="dbusgateway_8cpp_source.html#l00024">24</a> of file <a class="el" href="dbusgateway_8cpp_source.html">dbusgateway.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    : <a class="code" href="class_gateway.html">Gateway</a>(ID)</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    , m_type(type)</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;{</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    m_state = GatewayState::CREATED;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    m_socket = gatewayDir </div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;             + (m_type == SessionProxy ? <span class="stringliteral">&quot;/sess_&quot;</span> : <span class="stringliteral">&quot;/sys_&quot;</span>)</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;             + name </div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;             + <span class="stringliteral">&quot;.sock&quot;</span>;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    m_sessionBusConfig = json_array();</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    m_systemBusConfig = json_array();</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;}</div>
<div class="ttc" id="class_gateway_html"><div class="ttname"><a href="class_gateway.html">Gateway</a></div><div class="ttdoc">Gateway base class for SoftwareContainer. </div><div class="ttdef"><b>Definition:</b> <a href="gateway_8h_source.html#l00041">gateway.h:41</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a26605d226d94efe726e85734dd01a713"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ReturnCode DBusGateway::readConfigElement </td>
          <td>(</td>
          <td class="paramtype">const json_t *&#160;</td>
          <td class="paramname"><em>element</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="class_gateway.html" title="Gateway base class for SoftwareContainer. ">Gateway</a> specific parsing of config elements. </p>
<p>All gateways implement this method in order to provide gateway specific parsing of the configuration content.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">element</td><td>A JSON configuration item. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ReturnCode FAILURE if an error was encountered while parsing, SUCCESS otherwise. </dd></dl>

<p>Implements <a class="el" href="class_gateway.html#a4413c4a754da11031de372bc0b278d92">Gateway</a>.</p>

<p>Definition at line <a class="el" href="dbusgateway_8cpp_source.html#l00050">50</a> of file <a class="el" href="dbusgateway_8cpp_source.html">dbusgateway.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;{</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="keywordtype">bool</span> has_session, has_system = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="comment">// First, parse session bus configuration</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    json_t *sessionConfig = json_object_get(element, SESSION_CONFIG);</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="keywordflow">if</span> (sessionConfig) {</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        has_session = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        <span class="keywordflow">if</span> (!json_is_array(sessionConfig)) {</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;            log_error() &lt;&lt; <span class="stringliteral">&quot;Value for &quot;</span> &lt;&lt; SESSION_CONFIG &lt;&lt; <span class="stringliteral">&quot; is not an array&quot;</span>;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;            <span class="keywordflow">return</span> ReturnCode::FAILURE;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        }</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; json_array_size(sessionConfig); i++) {</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;            json_t *child = json_array_get(sessionConfig, i);</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;            <span class="comment">// TODO: Error checking here, so that dbus-proxy can accept config</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;            json_array_append(m_sessionBusConfig, json_deep_copy(child));</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        }</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    }</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="comment">// Then, parse system bus configuration</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    json_t *systemConfig = json_object_get(element, SYSTEM_CONFIG);</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keywordflow">if</span> (systemConfig) {</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        has_system = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        <span class="keywordflow">if</span> (!json_is_array(systemConfig)) {</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;            log_error() &lt;&lt; <span class="stringliteral">&quot;Value for &quot;</span> &lt;&lt; SYSTEM_CONFIG &lt;&lt; <span class="stringliteral">&quot; is not an array&quot;</span>;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;            <span class="keywordflow">return</span> ReturnCode::FAILURE;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        }</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; json_array_size(systemConfig); i++) {</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;            json_t *child = json_array_get(systemConfig, i);</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;            <span class="comment">// TODO: Error checking here, so that dbus-proxy can accept config</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;            json_array_append(m_systemBusConfig, json_deep_copy(child));</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        }</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    }</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keywordflow">if</span> (!has_session &amp;&amp; !has_system) {</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        log_error() &lt;&lt; <span class="stringliteral">&quot;Neither system nor session configuration was provided&quot;</span>;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        <span class="keywordflow">return</span> ReturnCode::FAILURE;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    }</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    m_state = GatewayState::CONFIGURED;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordflow">return</span> ReturnCode::SUCCESS;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab974b6b05b985d64ba5609c64e8b13fb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool DBusGateway::activateGateway </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements Gateway::activateGateway. </p>
<p>Starts the dbus-proxy binary and feeds it the configuration set in <a class="el" href="class_gateway.html#a04d31b1ed232f5376c5cf79e30fa2593" title="Configure this gateway according to the supplied JSON configuration string. ">setConfig()</a>. This function will also set up the correct environment variables (DBUS_SESSION_BUS_ADDRESS when proxying the session bus, or DBUS_SYSTEM_BUS_ADDRESS when proxying the system bus).</p>
<p>This function requires a config to have been set using <a class="el" href="class_gateway.html#a04d31b1ed232f5376c5cf79e30fa2593" title="Configure this gateway according to the supplied JSON configuration string. ">setConfig()</a>.</p>
<p>This function requires the 'dbus-proxy' binary to be available in $PATH</p>
<dl class="section return"><dt>Returns</dt><dd>true when dbus-proxy was correctly execute and environment variable was correctly set false if dbus-proxy failed to execute or accept input on STDIN, or when environment variable could not be set. </dd></dl>

<p>Implements <a class="el" href="class_gateway.html">Gateway</a>.</p>

<p>Definition at line <a class="el" href="dbusgateway_8cpp_source.html#l00095">95</a> of file <a class="el" href="dbusgateway_8cpp_source.html">dbusgateway.cpp</a>.</p>

<p>References <a class="el" href="gateway_8cpp_source.html#l00104">Gateway::setEnvironmentVariable()</a>.</p>
<div class="fragment"><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;{</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="comment">// set DBUS_{SESSION,SYSTEM}_BUS_ADDRESS env variable</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    std::string variable = std::string(<span class="stringliteral">&quot;DBUS_&quot;</span>)</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                         + (m_type == SessionProxy ? <span class="stringliteral">&quot;SESSION&quot;</span> : <span class="stringliteral">&quot;SYSTEM&quot;</span>)</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                         + std::string(<span class="stringliteral">&quot;_BUS_ADDRESS&quot;</span>);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    std::string value = <span class="stringliteral">&quot;unix:path=/gateways/&quot;</span> + socketName();</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <a class="code" href="class_gateway.html#a828b2dfa811c7fcce82d34b502e65112">setEnvironmentVariable</a>(variable, value);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    std::vector&lt;std::string&gt; commandVec = { <span class="stringliteral">&quot;dbus-proxy&quot;</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                                          , m_socket</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                                          , m_type == SessionProxy ? <span class="stringliteral">&quot;session&quot;</span> : <span class="stringliteral">&quot;system&quot;</span> };</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="comment">// Give the dbus-proxy access to the real dbus bus address.</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    std::vector&lt;std::string&gt; envVec;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keywordflow">if</span> (<span class="keywordtype">char</span> *envValue = getenv(variable.c_str())) {</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        envVec.push_back(variable + <span class="stringliteral">&quot;=&quot;</span> + envValue);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m_type == SessionProxy) {</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        log_error() &lt;&lt; <span class="stringliteral">&quot;Using DBus gateway in session mode&quot;</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot; and no &quot;</span> + variable + <span class="stringliteral">&quot; set in host environment, dbus-proxy won&#39;t work&quot;</span>;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        log_warn() &lt;&lt; <span class="stringliteral">&quot;Using DBus gateway in system mode&quot;</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                   &lt;&lt; <span class="stringliteral">&quot; and no &quot;</span> + variable + <span class="stringliteral">&quot; set in host environment, this could be a problem&quot;</span>;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    }</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="keywordflow">if</span> (!startDBusProxy(commandVec, envVec)) {</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    }</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="comment">// Write configuration</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    json_t *jsonConfig = json_object();</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    json_object_set(jsonConfig, SESSION_CONFIG, m_sessionBusConfig);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    json_object_set(jsonConfig, SYSTEM_CONFIG, m_systemBusConfig);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    std::string config = std::string(json_dumps(jsonConfig, JSON_COMPACT));</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keywordflow">return</span> testDBusConnection(config);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;}</div>
<div class="ttc" id="class_gateway_html_a828b2dfa811c7fcce82d34b502e65112"><div class="ttname"><a href="class_gateway.html#a828b2dfa811c7fcce82d34b502e65112">Gateway::setEnvironmentVariable</a></div><div class="ttdeci">ReturnCode setEnvironmentVariable(const std::string &amp;variable, const std::string &amp;value)</div><div class="ttdoc">Set an environment variable in the associated container. </div><div class="ttdef"><b>Definition:</b> <a href="gateway_8cpp_source.html#l00104">gateway.cpp:104</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_d_bus_gateway_ab974b6b05b985d64ba5609c64e8b13fb_cgraph.svg" width="736" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5f9b7087aedef583e950d7853350731e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool DBusGateway::teardownGateway </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements Gateway::teardownGateway. </p>
<p>This function will clean up processes launched and file descriptors opened during the lifetime of the gatway. Specifically it will close the connection to the dbus-proxy, and close the stdin and stdout pipes opened to dbus-proxy.</p>
<dl class="section return"><dt>Returns</dt><dd>false if dbus-proxy could not be terminated, if stdin or stdout could not be closed, or if the socket created by the dbus-proxy could not be removed. </dd></dl>

<p>Implements <a class="el" href="class_gateway.html">Gateway</a>.</p>

<p>Definition at line <a class="el" href="dbusgateway_8cpp_source.html#l00203">203</a> of file <a class="el" href="dbusgateway_8cpp_source.html">dbusgateway.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;{</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keywordtype">bool</span> success = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordflow">if</span> (m_pid != INVALID_PID) {</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        log_debug() &lt;&lt; <span class="stringliteral">&quot;Killing dbus-proxy with pid &quot;</span> &lt;&lt; m_pid;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        kill(m_pid, SIGKILL); <span class="comment">// In some configurations, hangs if using SIGTERM instead</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        waitpid(m_pid, <span class="keyword">nullptr</span>, 0); <span class="comment">// Wait until it exits</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        Glib::spawn_close_pid(m_pid);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        log_debug() &lt;&lt; <span class="stringliteral">&quot;dbus-proxy pid not set or already dead: &quot;</span> &lt;&lt; m_pid;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    }</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keywordflow">if</span> (access(m_socket.c_str(), F_OK) != -1) {</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        <span class="keywordflow">if</span> (unlink(m_socket.c_str()) == -1) {</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            log_error() &lt;&lt; <span class="stringliteral">&quot;Could not remove &quot;</span> &lt;&lt; m_socket &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; strerror(errno);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;            success = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        }</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        log_debug() &lt;&lt; <span class="stringliteral">&quot;Socket not accessible, has it been removed already?&quot;</span>;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    }</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keywordflow">return</span> success;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a01028fc541340b53b0330c03dafb6bfe"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual const char* Gateway::id </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>Returns the ID of the gateway </dd></dl>

<p>Definition at line <a class="el" href="gateway_8h_source.html#l00066">66</a> of file <a class="el" href="gateway_8h_source.html">gateway.h</a>.</p>

<p>Referenced by <a class="el" href="gateway_8cpp_source.html#l00056">Gateway::activate()</a>, <a class="el" href="softwarecontainer_8cpp_source.html#l00157">softwarecontainer::SoftwareContainer::setGatewayConfigs()</a>, and <a class="el" href="gateway_8cpp_source.html#l00070">Gateway::teardown()</a>.</p>
<div class="fragment"><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    {</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        <span class="keywordflow">return</span> m_id;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    }</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_gateway_a01028fc541340b53b0330c03dafb6bfe_icgraph.svg" width="1090" height="139"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a04d31b1ed232f5376c5cf79e30fa2593"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Gateway::setConfig </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Configure this gateway according to the supplied JSON configuration string. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>JSON string containing gateway-specific JSON configuration </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if <code>config</code> was successfully parsed false otherwise </dd></dl>

<p>Definition at line <a class="el" href="gateway_8cpp_source.html#l00025">25</a> of file <a class="el" href="gateway_8cpp_source.html">gateway.cpp</a>.</p>

<p>References <a class="el" href="class_gateway.html#a4413c4a754da11031de372bc0b278d92">Gateway::readConfigElement()</a>.</p>

<p>Referenced by <a class="el" href="softwarecontainer_8cpp_source.html#l00157">softwarecontainer::SoftwareContainer::setGatewayConfigs()</a>.</p>
<div class="fragment"><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;{</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    json_error_t error;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    json_t *root = json_loads(config.c_str(), 0, &amp;error);</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    <span class="keywordflow">if</span> (!root) {</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;        log_error() &lt;&lt; <span class="stringliteral">&quot;Could not parse config: &quot;</span> &lt;&lt; error.text;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    }</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <span class="keywordflow">if</span> (json_is_array(root)) {</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> i = 0; i &lt; json_array_size(root); i++) {</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;            json_t *element = json_array_get(root, i);</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;            <span class="keywordflow">if</span> (json_is_object(element)) {</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;                <span class="keywordflow">if</span> (isError(<a class="code" href="class_gateway.html#a4413c4a754da11031de372bc0b278d92">readConfigElement</a>(element))) {</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;                    log_error() &lt;&lt; <span class="stringliteral">&quot;Could not read config element&quot;</span>;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;                }</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;                log_error() &lt;&lt; <span class="stringliteral">&quot;json configuration is not an object&quot;</span>;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;            }</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        }</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        log_error() &lt;&lt; <span class="stringliteral">&quot;Root JSON element is not an array&quot;</span>;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    }</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    m_state = GatewayState::CONFIGURED;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;}</div>
<div class="ttc" id="class_gateway_html_a4413c4a754da11031de372bc0b278d92"><div class="ttname"><a href="class_gateway.html#a4413c4a754da11031de372bc0b278d92">Gateway::readConfigElement</a></div><div class="ttdeci">virtual ReturnCode readConfigElement(const json_t *element)=0</div><div class="ttdoc">Gateway specific parsing of config elements. </div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_gateway_a04d31b1ed232f5376c5cf79e30fa2593_cgraph.svg" width="410" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_gateway_a04d31b1ed232f5376c5cf79e30fa2593_icgraph.svg" width="948" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="aac80886a35b80d8003051e6926b59937"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Gateway::activate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Applies any configuration set by <a class="el" href="class_gateway.html#a04d31b1ed232f5376c5cf79e30fa2593" title="Configure this gateway according to the supplied JSON configuration string. ">setConfig()</a> </p>
<dl class="section return"><dt>Returns</dt><dd>true upon successful application of configuration, false otherwise </dd></dl>

<p>Definition at line <a class="el" href="gateway_8cpp_source.html#l00056">56</a> of file <a class="el" href="gateway_8cpp_source.html">gateway.cpp</a>.</p>

<p>References <a class="el" href="gateway_8cpp_source.html#l00078">Gateway::hasContainer()</a>, and <a class="el" href="gateway_8h_source.html#l00066">Gateway::id()</a>.</p>

<p>Referenced by <a class="el" href="softwarecontainer_8cpp_source.html#l00157">softwarecontainer::SoftwareContainer::setGatewayConfigs()</a>.</p>
<div class="fragment"><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                       {</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keywordflow">if</span> (m_state != GatewayState::CONFIGURED) {</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        log_warning() &lt;&lt; <span class="stringliteral">&quot;Activate was called on a gateway which is not in configured state: &quot;</span> &lt;&lt; <a class="code" href="class_gateway.html#a01028fc541340b53b0330c03dafb6bfe">id</a>();</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    }</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="class_gateway.html#ad66eea64014d7eb2927c1f576b3cf2b2">hasContainer</a>()) {</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        log_warning() &lt;&lt; <span class="stringliteral">&quot;Activate was called on a gateway which has no associated container: &quot;</span> &lt;&lt; <a class="code" href="class_gateway.html#a01028fc541340b53b0330c03dafb6bfe">id</a>();</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    }</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="keywordflow">return</span> activateGateway();</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;}</div>
<div class="ttc" id="class_gateway_html_a01028fc541340b53b0330c03dafb6bfe"><div class="ttname"><a href="class_gateway.html#a01028fc541340b53b0330c03dafb6bfe">Gateway::id</a></div><div class="ttdeci">virtual const char * id()</div><div class="ttdef"><b>Definition:</b> <a href="gateway_8h_source.html#l00066">gateway.h:66</a></div></div>
<div class="ttc" id="class_gateway_html_ad66eea64014d7eb2927c1f576b3cf2b2"><div class="ttname"><a href="class_gateway.html#ad66eea64014d7eb2927c1f576b3cf2b2">Gateway::hasContainer</a></div><div class="ttdeci">bool hasContainer()</div><div class="ttdoc">Check if the gateway has an associated container. </div><div class="ttdef"><b>Definition:</b> <a href="gateway_8cpp_source.html#l00078">gateway.cpp:78</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_gateway_aac80886a35b80d8003051e6926b59937_cgraph.svg" width="363" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_gateway_aac80886a35b80d8003051e6926b59937_icgraph.svg" width="939" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a12bc56e21985047b61012932394b4512"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Gateway::teardown </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Restore system to the state prior to launching of gateway. </p>
<p>Any cleanup code (removal of files, virtual interfaces, etc) should be placed here.</p>
<dl class="section return"><dt>Returns</dt><dd>true upon successful clean-up, false otherwise </dd></dl>

<p>Definition at line <a class="el" href="gateway_8cpp_source.html#l00070">70</a> of file <a class="el" href="gateway_8cpp_source.html">gateway.cpp</a>.</p>

<p>References <a class="el" href="gateway_8h_source.html#l00066">Gateway::id()</a>.</p>
<div class="fragment"><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                       {</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keywordflow">if</span> (m_state != GatewayState::ACTIVATED) {</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        log_warning() &lt;&lt; <span class="stringliteral">&quot;Teardown called on non-activated gateway &quot;</span> &lt;&lt; <a class="code" href="class_gateway.html#a01028fc541340b53b0330c03dafb6bfe">id</a>();</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    }</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keywordflow">return</span> teardownGateway();</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;}</div>
<div class="ttc" id="class_gateway_html_a01028fc541340b53b0330c03dafb6bfe"><div class="ttname"><a href="class_gateway.html#a01028fc541340b53b0330c03dafb6bfe">Gateway::id</a></div><div class="ttdeci">virtual const char * id()</div><div class="ttdef"><b>Definition:</b> <a href="gateway_8h_source.html#l00066">gateway.h:66</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_gateway_a12bc56e21985047b61012932394b4512_cgraph.svg" width="296" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab55d52ccd92881532688847a6c2c1cba"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Gateway::setContainer </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="class_container_abstract_interface.html">ContainerAbstractInterface</a> &gt;&#160;</td>
          <td class="paramname"><em>container</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the associated container for this gateway. </p>

<p>Definition at line <a class="el" href="gateway_8cpp_source.html#l00089">89</a> of file <a class="el" href="gateway_8cpp_source.html">gateway.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;{</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    m_container = container;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a88ae41c7b14da49561d025bd99047e81"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Gateway::isConfigured </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Is the gateway configured or not? </p>

<p>Definition at line <a class="el" href="gateway_8cpp_source.html#l00094">94</a> of file <a class="el" href="gateway_8cpp_source.html">gateway.cpp</a>.</p>

<p>Referenced by <a class="el" href="softwarecontainer_8cpp_source.html#l00157">softwarecontainer::SoftwareContainer::setGatewayConfigs()</a>.</p>
<div class="fragment"><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;{</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordflow">return</span> m_state &gt;= GatewayState::CONFIGURED;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_gateway_a88ae41c7b14da49561d025bd99047e81_icgraph.svg" width="967" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a78949f88080c66617f8b20048d706237"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Gateway::isActivated </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Is the gateway activated or not? </p>

<p>Definition at line <a class="el" href="gateway_8cpp_source.html#l00099">99</a> of file <a class="el" href="gateway_8cpp_source.html">gateway.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;{</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keywordflow">return</span> m_state &gt;= GatewayState::ACTIVATED;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad66eea64014d7eb2927c1f576b3cf2b2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Gateway::hasContainer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if the gateway has an associated container. </p>
<p>Inheriting gateways calls this method to know if they are safe to assume they can access a <a class="el" href="class_container_abstract_interface.html">ContainerAbstractInterface</a> instance previously set by SoftwareContainer calling <a class="el" href="class_gateway.html#ab55d52ccd92881532688847a6c2c1cba" title="Set the associated container for this gateway. ">setContainer()</a></p>
<dl class="section return"><dt>Returns</dt><dd>true if there is a <a class="el" href="class_container_abstract_interface.html">ContainerAbstractInterface</a> instance set, false if not. </dd></dl>

<p>Definition at line <a class="el" href="gateway_8cpp_source.html#l00078">78</a> of file <a class="el" href="gateway_8cpp_source.html">gateway.cpp</a>.</p>

<p>Referenced by <a class="el" href="gateway_8cpp_source.html#l00056">Gateway::activate()</a>, <a class="el" href="gateway_8cpp_source.html#l00117">Gateway::executeInContainer()</a>, and <a class="el" href="gateway_8cpp_source.html#l00104">Gateway::setEnvironmentVariable()</a>.</p>
<div class="fragment"><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;{</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keywordflow">return</span> m_container != <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_gateway_ad66eea64014d7eb2927c1f576b3cf2b2_icgraph.svg" width="1259" height="186"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab03846b347174727f70ab4e4ce5db09f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="class_container_abstract_interface.html">ContainerAbstractInterface</a> &gt; Gateway::getContainer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a handle to the associated container. </p>

<p>Definition at line <a class="el" href="gateway_8cpp_source.html#l00083">83</a> of file <a class="el" href="gateway_8cpp_source.html">gateway.cpp</a>.</p>

<p>Referenced by <a class="el" href="pulsegateway_8cpp_source.html#l00043">PulseGateway::activateGateway()</a>, <a class="el" href="devicenodegateway_8cpp_source.html#l00076">DeviceNodeGateway::activateGateway()</a>, <a class="el" href="gateway_8cpp_source.html#l00117">Gateway::executeInContainer()</a>, and <a class="el" href="gateway_8cpp_source.html#l00104">Gateway::setEnvironmentVariable()</a>.</p>
<div class="fragment"><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;{</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    std::shared_ptr&lt;ContainerAbstractInterface&gt; ptrCopy = m_container;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keywordflow">return</span> ptrCopy;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_gateway_ab03846b347174727f70ab4e4ce5db09f_icgraph.svg" width="734" height="179"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a828b2dfa811c7fcce82d34b502e65112"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ReturnCode Gateway::setEnvironmentVariable </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>variable</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set an environment variable in the associated container. </p>

<p>Definition at line <a class="el" href="gateway_8cpp_source.html#l00104">104</a> of file <a class="el" href="gateway_8cpp_source.html">gateway.cpp</a>.</p>

<p>References <a class="el" href="gateway_8cpp_source.html#l00083">Gateway::getContainer()</a>, and <a class="el" href="gateway_8cpp_source.html#l00078">Gateway::hasContainer()</a>.</p>

<p>Referenced by <a class="el" href="pulsegateway_8cpp_source.html#l00043">PulseGateway::activateGateway()</a>, and <a class="el" href="dbusgateway_8cpp_source.html#l00095">activateGateway()</a>.</p>
<div class="fragment"><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;{</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_gateway.html#ad66eea64014d7eb2927c1f576b3cf2b2">hasContainer</a>()) {</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="class_gateway.html#ab03846b347174727f70ab4e4ce5db09f">getContainer</a>()-&gt;setEnvironmentVariable(variable, value);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        log_error() &lt;&lt; <span class="stringliteral">&quot;Can&#39;t set environment variable on gateway without container&quot;</span>;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        <span class="keywordflow">return</span> ReturnCode::FAILURE;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    }</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;}</div>
<div class="ttc" id="class_gateway_html_ab03846b347174727f70ab4e4ce5db09f"><div class="ttname"><a href="class_gateway.html#ab03846b347174727f70ab4e4ce5db09f">Gateway::getContainer</a></div><div class="ttdeci">std::shared_ptr&lt; ContainerAbstractInterface &gt; getContainer()</div><div class="ttdoc">Get a handle to the associated container. </div><div class="ttdef"><b>Definition:</b> <a href="gateway_8cpp_source.html#l00083">gateway.cpp:83</a></div></div>
<div class="ttc" id="class_gateway_html_ad66eea64014d7eb2927c1f576b3cf2b2"><div class="ttname"><a href="class_gateway.html#ad66eea64014d7eb2927c1f576b3cf2b2">Gateway::hasContainer</a></div><div class="ttdeci">bool hasContainer()</div><div class="ttdoc">Check if the gateway has an associated container. </div><div class="ttdef"><b>Definition:</b> <a href="gateway_8cpp_source.html#l00078">gateway.cpp:78</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_gateway_a828b2dfa811c7fcce82d34b502e65112_cgraph.svg" width="464" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_gateway_a828b2dfa811c7fcce82d34b502e65112_icgraph.svg" width="519" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a77348e5ce86b82302764b10e3203b42c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ReturnCode Gateway::executeInContainer </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>cmd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Execute the given command in the container. </p>

<p>Definition at line <a class="el" href="gateway_8cpp_source.html#l00117">117</a> of file <a class="el" href="gateway_8cpp_source.html">gateway.cpp</a>.</p>

<p>References <a class="el" href="gateway_8cpp_source.html#l00083">Gateway::getContainer()</a>, and <a class="el" href="gateway_8cpp_source.html#l00078">Gateway::hasContainer()</a>.</p>
<div class="fragment"><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;{</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_gateway.html#ad66eea64014d7eb2927c1f576b3cf2b2">hasContainer</a>()) {</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="class_gateway.html#ab03846b347174727f70ab4e4ce5db09f">getContainer</a>()-&gt;executeInContainer(cmd);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        log_error() &lt;&lt; <span class="stringliteral">&quot;Can&#39;t execute in container from gateway without container&quot;</span>;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        <span class="keywordflow">return</span> ReturnCode::FAILURE;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    }</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;}</div>
<div class="ttc" id="class_gateway_html_ab03846b347174727f70ab4e4ce5db09f"><div class="ttname"><a href="class_gateway.html#ab03846b347174727f70ab4e4ce5db09f">Gateway::getContainer</a></div><div class="ttdeci">std::shared_ptr&lt; ContainerAbstractInterface &gt; getContainer()</div><div class="ttdoc">Get a handle to the associated container. </div><div class="ttdef"><b>Definition:</b> <a href="gateway_8cpp_source.html#l00083">gateway.cpp:83</a></div></div>
<div class="ttc" id="class_gateway_html_ad66eea64014d7eb2927c1f576b3cf2b2"><div class="ttname"><a href="class_gateway.html#ad66eea64014d7eb2927c1f576b3cf2b2">Gateway::hasContainer</a></div><div class="ttdeci">bool hasContainer()</div><div class="ttdoc">Check if the gateway has an associated container. </div><div class="ttdef"><b>Definition:</b> <a href="gateway_8cpp_source.html#l00078">gateway.cpp:78</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_gateway_a77348e5ce86b82302764b10e3203b42c_cgraph.svg" width="436" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7ea50df505b43684c4a1d82ca6cb6e82"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool softwarecontainer::JSONParser::read </td>
          <td>(</td>
          <td class="paramtype">const json_t *&#160;</td>
          <td class="paramname"><em>element</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reads a string from a JSON Object. </p>
<p>Tries to read a string value form a given JSON object using a given key. If the read is successful true will be returned and the result reference will be populated with the read value. If the string could not be read, either due to the given object does not contain the given key or the given key did not hold a string, false will be returned and the result reference will not be changed.</p>
<dl class="section return"><dt>Returns</dt><dd>True: If the string was successfully read. </dd>
<dd>
False: If the string could not be read. </dd></dl>

<p>Definition at line <a class="el" href="jsonparser_8cpp_source.html#l00024">24</a> of file <a class="el" href="jsonparser_8cpp_source.html">jsonparser.cpp</a>.</p>

<p>Referenced by <a class="el" href="envgateway_8cpp_source.html#l00035">EnvironmentGateway::readConfigElement()</a>, <a class="el" href="waylandgateway_8cpp_source.html#l00041">WaylandGateway::readConfigElement()</a>, <a class="el" href="cgroupsgateway_8cpp_source.html#l00034">CgroupsGateway::readConfigElement()</a>, <a class="el" href="filegateway_8cpp_source.html#l00031">FileGateway::readConfigElement()</a>, <a class="el" href="pulsegateway_8cpp_source.html#l00034">PulseGateway::readConfigElement()</a>, <a class="el" href="devicenodegateway_8cpp_source.html#l00032">DeviceNodeGateway::readConfigElement()</a>, and <a class="el" href="softwarecontaineragent_8cpp_source.html#l00077">softwarecontainer::SoftwareContainerAgent::readConfigElement()</a>.</p>
<div class="fragment"><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;{</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    json_t *value = json_object_get(element, key);</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    <span class="keywordflow">if</span> (!value) {</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    }</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <span class="keywordflow">if</span> (!json_is_string(value)) {</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;        log_error() &lt;&lt; <span class="stringliteral">&quot;json element is not a string&quot;</span>;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    }</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    result = json_string_value(value);</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classsoftwarecontainer_1_1_j_s_o_n_parser_a7ea50df505b43684c4a1d82ca6cb6e82_icgraph.svg" width="883" height="446"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="aec2365e81204446fec184fe17e573405"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool softwarecontainer::JSONParser::read </td>
          <td>(</td>
          <td class="paramtype">const json_t *&#160;</td>
          <td class="paramname"><em>element</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reads a boolean from a JSON Object. </p>
<p>Tries to read a boolean value form a given JSON object using a given key. If the read is successful true will be returned and the result reference will be populated with the read value. If the boolean could not be read, either due to the given object does not contain the given key or the given key did not hold a boolean value, false will be returned and the result reference will not be changed.</p>
<dl class="section return"><dt>Returns</dt><dd>True: If the boolean was successfully read. </dd>
<dd>
False: If the boolean could not be read. </dd></dl>

<p>Definition at line <a class="el" href="jsonparser_8cpp_source.html#l00040">40</a> of file <a class="el" href="jsonparser_8cpp_source.html">jsonparser.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;{</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    json_t *value = json_object_get(element, key);</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="keywordflow">if</span> (!value) {</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    }</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="keywordflow">if</span> (!json_is_boolean(value)) {</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        log_error() &lt;&lt; <span class="stringliteral">&quot;json element is not a boolean&quot;</span>;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    }</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    result = json_is_true(value);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a11e43ade1f694d939bfd566b64ddd460"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool softwarecontainer::JSONParser::read </td>
          <td>(</td>
          <td class="paramtype">const json_t *&#160;</td>
          <td class="paramname"><em>element</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reads an integer from a JSON Object. </p>
<p>Tries to read an integer value form a given JSON object using a given key. If the read is successful true will be returned and the result reference will be populated with the read value. If the integer could not be read, either due to the given object does not contain the given key or the given key did not hold an integer value, false will be returned and the result reference will not be changed.</p>
<dl class="section return"><dt>Returns</dt><dd>True: If the integer was successfully read. </dd>
<dd>
False: If the integer could not be read. </dd></dl>

<p>Definition at line <a class="el" href="jsonparser_8cpp_source.html#l00056">56</a> of file <a class="el" href="jsonparser_8cpp_source.html">jsonparser.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;{</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    json_t *value = json_object_get(element, key);</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="keywordflow">if</span> (!value) {</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    }</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="keywordflow">if</span> (!json_is_integer(value)) {</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        log_error() &lt;&lt; <span class="stringliteral">&quot;json element is not an integer&quot;</span>;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    }</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    result = json_integer_value(value);</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>libsoftwarecontainer/src/gateway/<a class="el" href="dbusgateway_8h_source.html">dbusgateway.h</a></li>
<li>libsoftwarecontainer/src/gateway/<a class="el" href="dbusgateway_8cpp_source.html">dbusgateway.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_d_bus_gateway.html">DBusGateway</a></li>
    <li class="footer">Generated on Thu Nov 3 2016 12:08:28 for softwarecontainer by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.8 </li>
  </ul>
</div>
</body>
</html>
